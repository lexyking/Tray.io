{"ast":null,"code":"var _jsxFileName = \"/home/cyf/Repos/trayio/src/Components/UserForm.jsx\";\nimport React, { Component } from 'react';\nimport UserDetails from './UserDetails';\nimport UserPrivacy from './UserPrivacy';\nimport UserConfirm from './UserConfirm';\nimport UserDone from './UserDone';\nimport Joi from 'joi';\nexport class UserForm extends Component {\n  constructor() {\n    super();\n\n    this.nextStep = () => {\n      const _this$state = this.state,\n            step = _this$state.step,\n            name = _this$state.name,\n            email = _this$state.email,\n            role = _this$state.role,\n            password = _this$state.password;\n\n      if (step === 1) {\n        const values = {\n          name,\n          email,\n          role,\n          password\n        };\n        const result = this.isValid(values);\n        result ? this.setState({\n          errorForm: result.msg\n        }) : this.setState({\n          step: step + 1\n        });\n      } else {\n        this.setState({\n          step: step + 1\n        });\n      }\n    };\n\n    this.prevStep = () => {\n      const step = this.state.step;\n      this.setState({\n        step: step - 1\n      });\n    };\n\n    this.handleChange = e => {\n      const _e$target = e.target,\n            value = _e$target.value,\n            name = _e$target.name,\n            type = _e$target.type,\n            checked = _e$target.checked;\n      console.log(e.target);\n      type === 'checkbox' ? this.setState({\n        [name]: checked\n      }) : this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleClick = () => {\n      const isDisplay = this.state.isDisplay;\n      this.setState({\n        isDisplay: !isDisplay\n      });\n      console.log(isDisplay);\n    };\n\n    this.isValid = event => {\n      const schema = Joi.object().keys({\n        name: Joi.string().min(3).max(30).required(),\n        role: Joi.string().required(),\n        email: Joi.string().email(),\n        password: Joi.string().regex(/^[a-zA-Z0-9]{3,30}$/)\n      });\n      return Joi.validate(event, schema, (err, result) => {\n        if (err) {\n          return {\n            msg: err.details[0].message\n          };\n        }\n      });\n    };\n\n    this.state = {\n      name: '',\n      email: '',\n      role: '',\n      password: '',\n      step: 1,\n      isUpdate: false,\n      isCommunication: false,\n      errorForm: '',\n      isDisplay: false\n    };\n  } //Proceed to next step\n\n\n  render() {\n    //Destructuring the elements of the state to have a clean code\n    //by using name or email instead of this.state.name or this.state.email\n    const _this$state2 = this.state,\n          name = _this$state2.name,\n          email = _this$state2.email,\n          role = _this$state2.role,\n          isUpdate = _this$state2.isUpdate,\n          isCommunication = _this$state2.isCommunication,\n          step = _this$state2.step,\n          password = _this$state2.password,\n          errorForm = _this$state2.errorForm; //I created the const values to pass all the attributes of the state as a prop\n\n    const values = {\n      name,\n      email,\n      role,\n      password,\n      isUpdate,\n      isCommunication,\n      errorForm //Because i only have few tabs to return based on the step the \n      //user is, i will use a switch\n\n    };\n\n    switch (step) {\n      case 1:\n        return React.createElement(UserDetails, {\n          nextStep: this.nextStep,\n          handleChange: this.handleChange,\n          handleClick: this.handleClick,\n          values: values,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111\n          },\n          __self: this\n        });\n\n      case 2:\n        return React.createElement(UserPrivacy, {\n          values: values,\n          prevStep: this.prevStep,\n          nextStep: this.nextStep,\n          handleChange: this.handleChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121\n          },\n          __self: this\n        });\n\n      case 3:\n        return React.createElement(UserConfirm, {\n          prevStep: this.prevStep,\n          nextStep: this.nextStep,\n          values: values,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        });\n\n      case 4:\n        return React.createElement(UserDone, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136\n          },\n          __self: this\n        });\n\n      default:\n    }\n  }\n\n}\nexport default UserForm;","map":{"version":3,"sources":["/home/cyf/Repos/trayio/src/Components/UserForm.jsx"],"names":["React","Component","UserDetails","UserPrivacy","UserConfirm","UserDone","Joi","UserForm","constructor","nextStep","state","step","name","email","role","password","values","result","isValid","setState","errorForm","msg","prevStep","handleChange","e","target","value","type","checked","console","log","handleClick","isDisplay","event","schema","object","keys","string","min","max","required","regex","validate","err","details","message","isUpdate","isCommunication","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport UserDetails from './UserDetails';\nimport UserPrivacy from './UserPrivacy'\nimport UserConfirm from './UserConfirm';\nimport UserDone from './UserDone';\nimport Joi from 'joi';\n\nexport class UserForm extends Component {\n  constructor() {\n    super()\n    this.state = {\n      name: '',\n      email: '',\n      role: '',\n      password: '',\n      step: 1,\n      isUpdate: false,\n      isCommunication: false,\n      errorForm: '',\n      isDisplay: false\n    }\n  }\n\n  //Proceed to next step\n  nextStep = () => {\n    const { step, name, email, role, password } = this.state;\n    if (step === 1) {\n      const values = { name, email, role, password }\n      const result = this.isValid(values)\n      result ? this.setState({ errorForm: result.msg }) : this.setState({ step: step + 1 })\n\n    } else {\n      this.setState({\n        step: step + 1\n      })\n    }\n\n  }\n\n  //Go back to prev step\n  prevStep = () => {\n    const { step } = this.state;\n    this.setState({\n      step: step - 1\n    })\n  }\n  s\n  //Handle fields change\n  handleChange = e => {\n    const { value, name, type, checked } = e.target\n    console.log(e.target)\n    type === 'checkbox' ? this.setState({ [name]: checked }) : this.setState({ [name]: value });\n  }\n\n  handleClick = () => {\n    const { isDisplay } = this.state\n    this.setState({\n      isDisplay: !isDisplay\n    })\n    console.log(isDisplay)\n  }\n\n  //Form Validation\n  isValid = event => {\n    const schema = Joi.object().keys({\n      name: Joi.string().min(3).max(30).required(),\n      role: Joi.string().required(),\n      email: Joi.string().email(),\n      password: Joi.string().regex(/^[a-zA-Z0-9]{3,30}$/)\n    })\n\n    return Joi.validate(event, schema, (err, result) => {\n      if (err) {\n        return { msg: err.details[0].message }\n      }\n    })\n  }\n\n\n  render() {\n    //Destructuring the elements of the state to have a clean code\n    //by using name or email instead of this.state.name or this.state.email\n    const {\n      name,\n      email,\n      role,\n      isUpdate,\n      isCommunication,\n      step,\n      password,\n      errorForm\n    } = this.state;\n\n    //I created the const values to pass all the attributes of the state as a prop\n    const values = {\n      name,\n      email,\n      role,\n      password,\n      isUpdate,\n      isCommunication,\n      errorForm\n    }\n\n    //Because i only have few tabs to return based on the step the \n    //user is, i will use a switch\n\n    switch (step) {\n      case 1:\n        return (\n          <UserDetails\n            nextStep={this.nextStep}\n            handleChange={this.handleChange}\n            handleClick={this.handleClick}\n            values={values}\n          />\n        );\n\n      case 2:\n        return (\n          <UserPrivacy\n            values={values}\n            prevStep={this.prevStep}\n            nextStep={this.nextStep}\n            handleChange={this.handleChange} />\n        );\n\n      case 3:\n        return (\n          <UserConfirm\n            prevStep={this.prevStep}\n            nextStep={this.nextStep}\n            values={values} />\n        )\n      case 4:\n        return <UserDone />\n      default:\n\n    }\n\n  }\n}\n\nexport default UserForm\n"]},"metadata":{},"sourceType":"module"}